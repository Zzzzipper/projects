#include "config/v3/Config3AuditFiller.h"
#include "config/v3/Config3AuditGenerator.h"
#include "config/v3/Config3ConfigIniter.h"
#include "config/v3/Config3ConfigParser.h"
#include "timer/include/TestRealTime.h"
#include "test/include/Test.h"
#include "memory/include/RamMemory.h"
#include "logger/include/Logger.h"

class Config3AuditFillerTest : public TestSet {
public:
	Config3AuditFillerTest();
	bool init();
	void cleanup();
	bool initConfig(Config3Modem *config);
	bool testMeiCf8000();
	bool testNriCurrenzaC2Blue();
	bool testCoinCoGlobal2();

private:
	RamMemory *memory;
	TestRealTime *realtime;
	StatStorage *stat;
	Config3Modem *config;
};

TEST_SET_REGISTER(Config3AuditFillerTest);

Config3AuditFillerTest::Config3AuditFillerTest() {
	TEST_CASE_REGISTER(Config3AuditFillerTest, testMeiCf8000);
	TEST_CASE_REGISTER(Config3AuditFillerTest, testNriCurrenzaC2Blue);
	TEST_CASE_REGISTER(Config3AuditFillerTest, testCoinCoGlobal2);
}

bool Config3AuditFillerTest::init() {
	memory = new RamMemory(32000);
	memory->clear();
	realtime = new TestRealTime;
	stat = new StatStorage;
	config = new Config3Modem(memory, realtime, stat);
	return true;
}

void Config3AuditFillerTest::cleanup() {
	delete config;
	delete stat;
	delete realtime;
	delete memory;
}

bool Config3AuditFillerTest::initConfig(Config3Modem *config) {
	const char data1[] =
"DXS*JOF0000000*VA*V0/6*1\r\n"
"ST*001*0001\r\n"
"IC1******138*6*1\r\n"
"IC4*1*7*\r\n"
"PC1*1*250*0\r\n"
"PC9*1*1*0\r\n"
"PC7*1*CA*0*250\r\n"
"PC7*1*DA*1*100\r\n"
"PC1*2*270*0\r\n"
"PC9*2*2*0\r\n"
"PC7*2*CA*0*270\r\n"
"PC7*2*DA*1*100\r\n"
"PC1*3*250*0\r\n"
"PC9*3*3*0\r\n"
"PC7*3*CA*0*250\r\n"
"PC7*3*DA*1*100\r\n"
"PC1*4*250*0\r\n"
"PC9*4*4*0\r\n"
"PC7*4*CA*0*250\r\n"
"PC7*4*DA*1*100\r\n"
"PC1*5*270*0\r\n"
"PC9*5*5*0\r\n"
"PC7*5*CA*0*270\r\n"
"PC7*5*DA*1*100\r\n"
"PC1*6*300*0\r\n"
"PC9*6*6*0\r\n"
"PC7*6*CA*0*300\r\n"
"PC7*6*DA*1*100\r\n"
"PC1*7*270*0\r\n"
"PC9*7*7*0\r\n"
"PC7*7*CA*0*270\r\n"
"PC7*7*DA*1*100\r\n"
"PC1*8*300*0\r\n"
"PC9*8*8*0\r\n"
"PC7*8*CA*0*300\r\n"
"PC7*8*DA*1*100\r\n"
"PC1*9*280*0\r\n"
"PC9*9*9*0\r\n"
"PC7*9*CA*0*280\r\n"
"PC7*9*DA*1*100\r\n"
"PC1*10*320*0\r\n"
"PC9*10*10*0\r\n"
"PC7*10*CA*0*320\r\n"
"PC7*10*DA*1*100\r\n"
"PC1*11*250*0\r\n"
"PC9*11*11*0\r\n"
"PC7*11*CA*0*250\r\n"
"PC7*11*DA*1*100\r\n"
"PC1*12*260*0\r\n"
"PC9*12*12*0\r\n"
"PC7*12*CA*0*260\r\n"
"PC7*12*DA*1*100\r\n"
"PC1*13*330*0\r\n"
"PC9*13*13*0\r\n"
"PC7*13*CA*0*330\r\n"
"PC7*13*DA*1*100\r\n"
"PC1*14*280*0\r\n"
"PC9*14*14*0\r\n"
"PC7*14*CA*0*280\r\n"
"PC7*14*DA*1*100\r\n"
"PC1*15*250*0\r\n"
"PC9*15*15*0\r\n"
"PC7*15*CA*0*250\r\n"
"PC7*15*DA*1*100\r\n"
"G85*A4CB\r\n"
"SE*136*0001\r\n"
"DXE*1*1\r\n";

	Config3ConfigIniter initer;
	initer.start();
	initer.procData((const uint8_t*)data1, sizeof(data1));
	initer.complete();
	TEST_NUMBER_EQUAL(false, initer.hasError());
	TEST_NUMBER_EQUAL(Evadts::Result_PriceListNumberNotEqual, config->comparePlanogram(initer.getPrices(), initer.getProducts()));
	TEST_NUMBER_EQUAL(Evadts::Result_OK, config->resizePlanogram(initer.getPrices(), initer.getProducts()));

	Config3ConfigParser parser(config);
	parser.start();
	parser.procData((const uint8_t*)data1, sizeof(data1));
	parser.complete();
	TEST_NUMBER_EQUAL(false, parser.hasError());

	return true;
}

bool Config3AuditFillerTest::testMeiCf8000() {
	TEST_NUMBER_EQUAL(0, config->getAutomat()->getProductNum());
	TEST_NUMBER_EQUAL(true, initConfig(config));

	const char data1[] =
"DXS*9252131001*VA*V1/6*1\r\n"
"AM1*1939G301224*CF8000EXEC*V1.08\r\n"
"CA1*1939G301224*CF8000EXEC*108*218973\r\n"
"CA2*65000*65*0*0\r\n"
"CA3*0*0*0*0*76501000*19505700*56990300*50*0*5000\r\n"
"CA4*0*0*57731300*142900\r\n"
"CA8*0*0\r\n"
"CA9*0*0\r\n"
"CA10*0*1064200\r\n"
"CA11*100*0*0*0*37960*26347*11613\r\n"
"CA11*200*0*0*0*29130*29130*0\r\n"
"CA11*500*0*0*0*21056*5266*15790\r\n"
"CA11*1000*0*0*0*133*133*0\r\n"
"CA11*1000*0*0*0*56213*8279*47934\r\n"
"CA13*100*0*397\r\n"
"CA13*500*0*407\r\n"
"CA13*1000*0*821\r\n"
"CA14*5000*0*0*2*1\r\n"
"CA15*32400\r\n"
"CA17*0*100*4*0*0*0\r\n"
"CA17*2*500*28*0*0*0\r\n"
"CA17*3*1000*18*0*0*0\r\n"
"EA1*EA_4*20171027*043759***MEI:VMC:2:\r\n"
"EA1*EA_4*20171027*043401***MEI:ICM:3:\r\n"
"EA1*EA_1*20171027*043351***MEI:+8100:6WK\r\n"
"EA1*EA_2*20171021*132345***MEI:+100\r\n"
"EA1*EA_2*20171020*081226***MEI:+1400\r\n"
"EA1*EA_2*20171016*225148***MEI:-500\r\n"
"EA1*EA_2*20171013*225205***MEI:+1000\r\n"
"EA1*EA_2*20171010*074132***MEI:-200\r\n"
"EA1*EA_2*20171009*225104***MEI:-1000\r\n"
"EA1*EA_2*20171006*123249***MEI:+1000\r\n"
"EA1*EA_2*20171006*061911***MEI:-1500\r\n"
"EA1*EA_2*20171002*225215***MEI:-100\r\n"
"EA1*EA_2*20171001*224805***MEI:+1500\r\n"
"EA1*EA_2*20170928*160202***MEI:+100\r\n"
"EA1*EA_2*20170928*140134***MEI:-100\r\n"
"EA1*EA_2*20170928*132835***MEI:+15100\r\n"
"EA1*EA_2*20170928*104010***MEI:-7500\r\n"
"EA1*EA_2*20170927*225433***MEI:+500\r\n"
"EA1*EA_2*20170927*081458***MEI:+100\r\n"
"EA1*EA_2*20170926*075505***MEI:+2100\r\n"
"EA1*EA_2*20170925*225523***MEI:-1100\r\n"
"EA1*EA_2*20170924*224000***MEI:+1500\r\n"
"EA1*EA_2*20170924*094918***MEI:-2400\r\n"
"EA1*EA_2*20170921*135214***MEI:-1900\r\n"
"EA1*EA1A*20170928*131717***\r\n"
"EA1*EA1A*20170717*082136***\r\n"
"EA1*EA1A*20170630*065630***\r\n"
"EA1*EA1A*20170507*104538***\r\n"
"EA1*EA1A*20170427*161845***\r\n"
"EA1*EA1A*20161208*150237***\r\n"
"EA1*EA1A*20161114*163824***\r\n"
"EA1*EA1A*20161026*062624***\r\n"
"EA1*EA1A*20160801*151110***\r\n"
"EA1*EA1A*20160708*063228***\r\n"
"EA1*EA1A*20160512*151548***\r\n"
"EA1*EA1A*20160314*101551***\r\n"
"EA1*EA1A*20160225*114546***\r\n"
"EA1*EA1A*20150812*103146***\r\n"
"EA1*EA1A*20150512*063558***\r\n"
"EA1*EA1A*20150505*110752***\r\n"
"EA1*EA1A*20150324*105406***\r\n"
"EA1*EA1A*20150115*072224***\r\n"
"EA1*EA1A*20141226*114755***\r\n"
"EA1*EA1A*20141019*160128***\r\n"
"EA1*EA1A*20141016*091008***\r\n"
"EA1*EA1A*20140830*075438***\r\n"
"EA1*EA1A*20140828*134101***\r\n"
"EA1*EA1A*20140825*091113***\r\n"
"EA1*EA1A*20140821*125233***\r\n"
"EA1*EA1A*20140819*135747***\r\n"
"EA1*EA1A*20140324*041705***\r\n"
"EA1*EA1A*20140313*065049***\r\n"
"EA1*EA_3*20140311*130321***MEI:20140311:130300:1\r\n"
"EA1*EA_3*20140311*130321***MEI:20140311:130321:1\r\n"
"EA3*2*171027*0437*DEXTERM*171026*1108*DEXTERM**2*2\r\n"
"EA4*000000*0000**\r\n"
"EA7*0*0\r\n"
"ID1*MEI1939G301224**0***\r\n"
"ID4*2*1643\r\n"
"LA1*0*1*1000*0*31\r\n"
"LA1*0*2*1000*0*2\r\n"
"LA1*0*3*1000*0*9\r\n"
"LA1*0*4*1000*0*2\r\n"
"LA1*0*5*1000*0*2\r\n"
"LA1*0*6*1000*0*3\r\n"
"LA1*0*7*1000*0*0\r\n"
"LA1*0*8*1000*0*1\r\n"
"LA1*0*9*1000*0*1\r\n"
"LA1*0*10*1000*0*1\r\n"
"LA1*0*11*1000*0*1\r\n"
"LA1*0*12*1000*0*3\r\n"
"LA1*0*13*1000*0*0\r\n"
"LA1*0*14*1000*0*0\r\n"
"LA1*0*15*1000*0*0\r\n"
"LA1*0*16*1000*0*0\r\n"
"LA1*0*17*1000*0*0\r\n"
"LA1*0*18*1000*0*0\r\n"
"LA1*0*19*1000*0*0\r\n"
"LA1*0*20*1000*0*0\r\n"
"LA1*0*21*1000*0*0\r\n"
"LA1*0*22*1000*0*0\r\n"
"LA1*0*23*1000*0*0\r\n"
"LA1*0*24*1000*0*0\r\n"
"LA1*0*25*1000*0*8\r\n"
"LA1*0*26*1000*0*0\r\n"
"LA1*0*27*1000*0*0\r\n"
"LA1*0*28*1000*0*0\r\n"
"LA1*0*29*1000*0*0\r\n"
"LA1*0*30*1000*0*0\r\n"
"LA1*0*31*1000*0*0\r\n"
"LA1*0*32*1000*0*0\r\n"
"LA1*0*33*1000*0*0\r\n"
"LA1*0*34*1000*0*0\r\n"
"LA1*0*35*1000*0*1\r\n"
"LA1*0*36*1000*0*0\r\n"
"LA1*0*37*1000*0*0\r\n"
"LA1*0*38*1000*0*0\r\n"
"LA1*0*39*1000*0*0\r\n"
"LA1*0*40*1000*0*0\r\n"
"LA1*0*41*1000*0*0\r\n"
"LA1*0*42*1000*0*0\r\n"
"LA1*0*43*1000*0*0\r\n"
"LA1*0*44*1000*0*0\r\n"
"LA1*0*45*1000*0*0\r\n"
"LA1*0*46*1000*0*0\r\n"
"LA1*0*47*1000*0*0\r\n"
"LA1*0*48*1000*0*0\r\n"
"LA1*0*49*1000*0*0\r\n"
"LA1*0*50*1000*0*0\r\n"
"LA1*0*51*1000*0*0\r\n"
"LA1*0*52*1000*0*0\r\n"
"LA1*0*53*1000*0*0\r\n"
"LA1*0*54*1000*0*0\r\n"
"LA1*0*55*1000*0*0\r\n"
"LA1*0*56*1000*0*0\r\n"
"LA1*0*57*1000*0*0\r\n"
"LA1*0*58*1000*0*0\r\n"
"LA1*0*59*1000*0*0\r\n"
"LA1*0*60*1000*0*0\r\n"
"LA1*0*61*1000*0*0\r\n"
"LA1*0*62*1000*0*0\r\n"
"LA1*0*63*1000*0*0\r\n"
"LA1*0*64*1000*0*0\r\n"
"LA1*0*65*1000*0*0\r\n"
"LA1*0*66*1000*0*0\r\n"
"LA1*0*67*1000*0*0\r\n"
"LA1*0*68*1000*0*0\r\n"
"LA1*0*69*1000*0*0\r\n"
"LA1*0*70*1000*0*0\r\n"
"LA1*0*71*1000*0*0\r\n"
"LA1*0*72*1000*0*0\r\n"
"LA1*0*73*1000*0*0\r\n"
"LA1*0*74*1000*0*0\r\n"
"LA1*0*75*1000*0*0\r\n"
"LA1*0*76*1000*0*0\r\n"
"LA1*0*77*1000*0*0\r\n"
"LA1*0*78*1000*0*0\r\n"
"LA1*0*79*1000*0*0\r\n"
"LA1*0*80*1000*0*0\r\n"
"LA1*0*81*1000*0*0\r\n"
"LA1*0*82*1000*0*0\r\n"
"LA1*0*83*1000*0*0\r\n"
"LA1*0*84*1000*0*0\r\n"
"LA1*0*85*1000*0*0\r\n"
"LA1*0*86*1000*0*0\r\n"
"LA1*0*87*1000*0*0\r\n"
"LA1*0*88*1000*0*0\r\n"
"LA1*0*89*1000*0*0\r\n"
"LA1*0*90*1000*0*0\r\n"
"LA1*0*91*1000*0*0\r\n"
"LA1*0*92*1000*0*0\r\n"
"LA1*0*93*1000*0*0\r\n"
"LA1*0*94*1000*0*0\r\n"
"LA1*0*95*1000*0*0\r\n"
"LA1*0*96*1000*0*0\r\n"
"LA1*0*97*1000*0*0\r\n"
"LA1*0*98*1000*0*0\r\n"
"LA1*0*99*1000*0*0\r\n"
"LA1*0*100*1000*0*0\r\n"
"MA5*1*STATUS*CM0300\r\n"
"MA5*2*CAS*0*-563257960\r\n"
"MA5*3*FIL*1*1*49492*500*77*28*100*96*4*1000*66*7*1000*66*5*1000*66*6\r\n"
"MA5*LAST*CBS*0*0.00*21469821*6570*31282325*3267*225517*65*253675*563925\r\n"
"PA1*1*1000*----------\r\n"
"PA2*31*31000*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*1*CA*0*1000*31*31000*0*0\r\n"
"PA7*1*DA*1*1000*0*0*0*0\r\n"
"PA7*1*DB*2*1000*0*0*0*0\r\n"
"PA1*2*1000*----------\r\n"
"PA2*2*2000*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*2*CA*0*1000*2*2000*0*0\r\n"
"PA7*2*DA*1*1000*0*0*0*0\r\n"
"PA7*2*DB*2*1000*0*0*0*0\r\n"
"PA1*3*1000*----------\r\n"
"PA2*9*9000*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*3*CA*0*1000*9*9000*0*0\r\n"
"PA7*3*DA*1*1000*0*0*0*0\r\n"
"PA7*3*DB*2*1000*0*0*0*0\r\n"
"PA1*4*1000*----------\r\n"
"PA2*2*2000*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*4*CA*0*1000*2*2000*0*0\r\n"
"PA7*4*DA*1*1000*0*0*0*0\r\n"
"PA7*4*DB*2*1000*0*0*0*0\r\n"
"PA1*5*1000*----------\r\n"
"PA2*2*2000*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*5*CA*0*1000*2*2000*0*0\r\n"
"PA7*5*DA*1*1000*0*0*0*0\r\n"
"PA7*5*DB*2*1000*0*0*0*0\r\n"
"PA1*6*1000*----------\r\n"
"PA2*3*3000*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*6*CA*0*1000*3*3000*0*0\r\n"
"PA7*6*DA*1*1000*0*0*0*0\r\n"
"PA7*6*DB*2*1000*0*0*0*0\r\n"
"PA1*7*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*7*CA*0*1000*0*0*0*0\r\n"
"PA7*7*DA*1*1000*0*0*0*0\r\n"
"PA7*7*DB*2*1000*0*0*0*0\r\n"
"PA1*8*1000*----------\r\n"
"PA2*1*1000*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*8*CA*0*1000*1*1000*0*0\r\n"
"PA7*8*DA*1*1000*0*0*0*0\r\n"
"PA7*8*DB*2*1000*0*0*0*0\r\n"
"PA1*9*1000*----------\r\n"
"PA2*1*1000*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*9*CA*0*1000*1*1000*0*0\r\n"
"PA7*9*DA*1*1000*0*0*0*0\r\n"
"PA7*9*DB*2*1000*0*0*0*0\r\n"
"PA1*10*1000*----------\r\n"
"PA2*1*1000*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*10*CA*0*1000*1*1000*0*0\r\n"
"PA7*10*DA*1*1000*0*0*0*0\r\n"
"PA7*10*DB*2*1000*0*0*0*0\r\n"
"PA1*11*1000*----------\r\n"
"PA2*1*1000*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*11*CA*0*1000*1*1000*0*0\r\n"
"PA7*11*DA*1*1000*0*0*0*0\r\n"
"PA7*11*DB*2*1000*0*0*0*0\r\n"
"PA1*12*1000*----------\r\n"
"PA2*3*3000*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*12*CA*0*1000*3*3000*0*0\r\n"
"PA7*12*DA*1*1000*0*0*0*0\r\n"
"PA7*12*DB*2*1000*0*0*0*0\r\n"
"PA1*13*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*13*CA*0*1000*0*0*0*0\r\n"
"PA7*13*DA*1*1000*0*0*0*0\r\n"
"PA7*13*DB*2*1000*0*0*0*0\r\n"
"PA1*14*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*14*CA*0*1000*0*0*0*0\r\n"
"PA7*14*DA*1*1000*0*0*0*0\r\n"
"PA7*14*DB*2*1000*0*0*0*0\r\n"
"PA1*15*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*15*CA*0*1000*0*0*0*0\r\n"
"PA7*15*DA*1*1000*0*0*0*0\r\n"
"PA7*15*DB*2*1000*0*0*0*0\r\n"
"PA1*16*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*16*CA*0*1000*0*0*0*0\r\n"
"PA7*16*DA*1*1000*0*0*0*0\r\n"
"PA7*16*DB*2*1000*0*0*0*0\r\n"
"PA1*17*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*17*CA*0*1000*0*0*0*0\r\n"
"PA7*17*DA*1*1000*0*0*0*0\r\n"
"PA7*17*DB*2*1000*0*0*0*0\r\n"
"PA1*18*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*18*CA*0*1000*0*0*0*0\r\n"
"PA7*18*DA*1*1000*0*0*0*0\r\n"
"PA7*18*DB*2*1000*0*0*0*0\r\n"
"PA1*19*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*19*CA*0*1000*0*0*0*0\r\n"
"PA7*19*DA*1*1000*0*0*0*0\r\n"
"PA7*19*DB*2*1000*0*0*0*0\r\n"
"PA1*20*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*20*CA*0*1000*0*0*0*0\r\n"
"PA7*20*DA*1*1000*0*0*0*0\r\n"
"PA7*20*DB*2*1000*0*0*0*0\r\n"
"PA1*21*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*21*CA*0*1000*0*0*0*0\r\n"
"PA7*21*DA*1*1000*0*0*0*0\r\n"
"PA7*21*DB*2*1000*0*0*0*0\r\n"
"PA1*22*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*22*CA*0*1000*0*0*0*0\r\n"
"PA7*22*DA*1*1000*0*0*0*0\r\n"
"PA7*22*DB*2*1000*0*0*0*0\r\n"
"PA1*23*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*23*CA*0*1000*0*0*0*0\r\n"
"PA7*23*DA*1*1000*0*0*0*0\r\n"
"PA7*23*DB*2*1000*0*0*0*0\r\n"
"PA1*24*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*24*CA*0*1000*0*0*0*0\r\n"
"PA7*24*DA*1*1000*0*0*0*0\r\n"
"PA7*24*DB*2*1000*0*0*0*0\r\n"
"PA1*25*1000*----------\r\n"
"PA2*8*8000*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*25*CA*0*1000*8*8000*0*0\r\n"
"PA7*25*DA*1*1000*0*0*0*0\r\n"
"PA7*25*DB*2*1000*0*0*0*0\r\n"
"PA1*26*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*26*CA*0*1000*0*0*0*0\r\n"
"PA7*26*DA*1*1000*0*0*0*0\r\n"
"PA7*26*DB*2*1000*0*0*0*0\r\n"
"PA1*27*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*27*CA*0*1000*0*0*0*0\r\n"
"PA7*27*DA*1*1000*0*0*0*0\r\n"
"PA7*27*DB*2*1000*0*0*0*0\r\n"
"PA1*28*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*28*CA*0*1000*0*0*0*0\r\n"
"PA7*28*DA*1*1000*0*0*0*0\r\n"
"PA7*28*DB*2*1000*0*0*0*0\r\n"
"PA1*29*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*29*CA*0*1000*0*0*0*0\r\n"
"PA7*29*DA*1*1000*0*0*0*0\r\n"
"PA7*29*DB*2*1000*0*0*0*0\r\n"
"PA1*30*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*30*CA*0*1000*0*0*0*0\r\n"
"PA7*30*DA*1*1000*0*0*0*0\r\n"
"PA7*30*DB*2*1000*0*0*0*0\r\n"
"PA1*31*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*31*CA*0*1000*0*0*0*0\r\n"
"PA7*31*DA*1*1000*0*0*0*0\r\n"
"PA7*31*DB*2*1000*0*0*0*0\r\n"
"PA1*32*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*32*CA*0*1000*0*0*0*0\r\n"
"PA7*32*DA*1*1000*0*0*0*0\r\n"
"PA7*32*DB*2*1000*0*0*0*0\r\n"
"PA1*33*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*33*CA*0*1000*0*0*0*0\r\n"
"PA7*33*DA*1*1000*0*0*0*0\r\n"
"PA7*33*DB*2*1000*0*0*0*0\r\n"
"PA1*34*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*34*CA*0*1000*0*0*0*0\r\n"
"PA7*34*DA*1*1000*0*0*0*0\r\n"
"PA7*34*DB*2*1000*0*0*0*0\r\n"
"PA1*35*1000*----------\r\n"
"PA2*1*1000*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*35*CA*0*1000*1*1000*0*0\r\n"
"PA7*35*DA*1*1000*0*0*0*0\r\n"
"PA7*35*DB*2*1000*0*0*0*0\r\n"
"PA1*36*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*36*CA*0*1000*0*0*0*0\r\n"
"PA7*36*DA*1*1000*0*0*0*0\r\n"
"PA7*36*DB*2*1000*0*0*0*0\r\n"
"PA1*37*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*37*CA*0*1000*0*0*0*0\r\n"
"PA7*37*DA*1*1000*0*0*0*0\r\n"
"PA7*37*DB*2*1000*0*0*0*0\r\n"
"PA1*38*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*38*CA*0*1000*0*0*0*0\r\n"
"PA7*38*DA*1*1000*0*0*0*0\r\n"
"PA7*38*DB*2*1000*0*0*0*0\r\n"
"PA1*39*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*39*CA*0*1000*0*0*0*0\r\n"
"PA7*39*DA*1*1000*0*0*0*0\r\n"
"PA7*39*DB*2*1000*0*0*0*0\r\n"
"PA1*40*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*40*CA*0*1000*0*0*0*0\r\n"
"PA7*40*DA*1*1000*0*0*0*0\r\n"
"PA7*40*DB*2*1000*0*0*0*0\r\n"
"PA1*41*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*41*CA*0*1000*0*0*0*0\r\n"
"PA7*41*DA*1*1000*0*0*0*0\r\n"
"PA7*41*DB*2*1000*0*0*0*0\r\n"
"PA1*42*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*42*CA*0*1000*0*0*0*0\r\n"
"PA7*42*DA*1*1000*0*0*0*0\r\n"
"PA7*42*DB*2*1000*0*0*0*0\r\n"
"PA1*43*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*43*CA*0*1000*0*0*0*0\r\n"
"PA7*43*DA*1*1000*0*0*0*0\r\n"
"PA7*43*DB*2*1000*0*0*0*0\r\n"
"PA1*44*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*44*CA*0*1000*0*0*0*0\r\n"
"PA7*44*DA*1*1000*0*0*0*0\r\n"
"PA7*44*DB*2*1000*0*0*0*0\r\n"
"PA1*45*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*45*CA*0*1000*0*0*0*0\r\n"
"PA7*45*DA*1*1000*0*0*0*0\r\n"
"PA7*45*DB*2*1000*0*0*0*0\r\n"
"PA1*46*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*46*CA*0*1000*0*0*0*0\r\n"
"PA7*46*DA*1*1000*0*0*0*0\r\n"
"PA7*46*DB*2*1000*0*0*0*0\r\n"
"PA1*47*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*47*CA*0*1000*0*0*0*0\r\n"
"PA7*47*DA*1*1000*0*0*0*0\r\n"
"PA7*47*DB*2*1000*0*0*0*0\r\n"
"PA1*48*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*48*CA*0*1000*0*0*0*0\r\n"
"PA7*48*DA*1*1000*0*0*0*0\r\n"
"PA7*48*DB*2*1000*0*0*0*0\r\n"
"PA1*49*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*49*CA*0*1000*0*0*0*0\r\n"
"PA7*49*DA*1*1000*0*0*0*0\r\n"
"PA7*49*DB*2*1000*0*0*0*0\r\n"
"PA1*50*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*50*CA*0*1000*0*0*0*0\r\n"
"PA7*50*DA*1*1000*0*0*0*0\r\n"
"PA7*50*DB*2*1000*0*0*0*0\r\n"
"PA1*51*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*51*CA*0*1000*0*0*0*0\r\n"
"PA7*51*DA*1*1000*0*0*0*0\r\n"
"PA7*51*DB*2*1000*0*0*0*0\r\n"
"PA1*52*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*52*CA*0*1000*0*0*0*0\r\n"
"PA7*52*DA*1*1000*0*0*0*0\r\n"
"PA7*52*DB*2*1000*0*0*0*0\r\n"
"PA1*53*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*53*CA*0*1000*0*0*0*0\r\n"
"PA7*53*DA*1*1000*0*0*0*0\r\n"
"PA7*53*DB*2*1000*0*0*0*0\r\n"
"PA1*54*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*54*CA*0*1000*0*0*0*0\r\n"
"PA7*54*DA*1*1000*0*0*0*0\r\n"
"PA7*54*DB*2*1000*0*0*0*0\r\n"
"PA1*55*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*55*CA*0*1000*0*0*0*0\r\n"
"PA7*55*DA*1*1000*0*0*0*0\r\n"
"PA7*55*DB*2*1000*0*0*0*0\r\n"
"PA1*56*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*56*CA*0*1000*0*0*0*0\r\n"
"PA7*56*DA*1*1000*0*0*0*0\r\n"
"PA7*56*DB*2*1000*0*0*0*0\r\n"
"PA1*57*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*57*CA*0*1000*0*0*0*0\r\n"
"PA7*57*DA*1*1000*0*0*0*0\r\n"
"PA7*57*DB*2*1000*0*0*0*0\r\n"
"PA1*58*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*58*CA*0*1000*0*0*0*0\r\n"
"PA7*58*DA*1*1000*0*0*0*0\r\n"
"PA7*58*DB*2*1000*0*0*0*0\r\n"
"PA1*59*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*59*CA*0*1000*0*0*0*0\r\n"
"PA7*59*DA*1*1000*0*0*0*0\r\n"
"PA7*59*DB*2*1000*0*0*0*0\r\n"
"PA1*60*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*60*CA*0*1000*0*0*0*0\r\n"
"PA7*60*DA*1*1000*0*0*0*0\r\n"
"PA7*60*DB*2*1000*0*0*0*0\r\n"
"PA1*61*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*61*CA*0*1000*0*0*0*0\r\n"
"PA7*61*DA*1*1000*0*0*0*0\r\n"
"PA7*61*DB*2*1000*0*0*0*0\r\n"
"PA1*62*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*62*CA*0*1000*0*0*0*0\r\n"
"PA7*62*DA*1*1000*0*0*0*0\r\n"
"PA7*62*DB*2*1000*0*0*0*0\r\n"
"PA1*63*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*63*CA*0*1000*0*0*0*0\r\n"
"PA7*63*DA*1*1000*0*0*0*0\r\n"
"PA7*63*DB*2*1000*0*0*0*0\r\n"
"PA1*64*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*64*CA*0*1000*0*0*0*0\r\n"
"PA7*64*DA*1*1000*0*0*0*0\r\n"
"PA7*64*DB*2*1000*0*0*0*0\r\n"
"PA1*65*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*65*CA*0*1000*0*0*0*0\r\n"
"PA7*65*DA*1*1000*0*0*0*0\r\n"
"PA7*65*DB*2*1000*0*0*0*0\r\n"
"PA1*66*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*66*CA*0*1000*0*0*0*0\r\n"
"PA7*66*DA*1*1000*0*0*0*0\r\n"
"PA7*66*DB*2*1000*0*0*0*0\r\n"
"PA1*67*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*67*CA*0*1000*0*0*0*0\r\n"
"PA7*67*DA*1*1000*0*0*0*0\r\n"
"PA7*67*DB*2*1000*0*0*0*0\r\n"
"PA1*68*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*68*CA*0*1000*0*0*0*0\r\n"
"PA7*68*DA*1*1000*0*0*0*0\r\n"
"PA7*68*DB*2*1000*0*0*0*0\r\n"
"PA1*69*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*69*CA*0*1000*0*0*0*0\r\n"
"PA7*69*DA*1*1000*0*0*0*0\r\n"
"PA7*69*DB*2*1000*0*0*0*0\r\n"
"PA1*70*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*70*CA*0*1000*0*0*0*0\r\n"
"PA7*70*DA*1*1000*0*0*0*0\r\n"
"PA7*70*DB*2*1000*0*0*0*0\r\n"
"PA1*71*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*71*CA*0*1000*0*0*0*0\r\n"
"PA7*71*DA*1*1000*0*0*0*0\r\n"
"PA7*71*DB*2*1000*0*0*0*0\r\n"
"PA1*72*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*72*CA*0*1000*0*0*0*0\r\n"
"PA7*72*DA*1*1000*0*0*0*0\r\n"
"PA7*72*DB*2*1000*0*0*0*0\r\n"
"PA1*73*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*73*CA*0*1000*0*0*0*0\r\n"
"PA7*73*DA*1*1000*0*0*0*0\r\n"
"PA7*73*DB*2*1000*0*0*0*0\r\n"
"PA1*74*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*74*CA*0*1000*0*0*0*0\r\n"
"PA7*74*DA*1*1000*0*0*0*0\r\n"
"PA7*74*DB*2*1000*0*0*0*0\r\n"
"PA1*75*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*75*CA*0*1000*0*0*0*0\r\n"
"PA7*75*DA*1*1000*0*0*0*0\r\n"
"PA7*75*DB*2*1000*0*0*0*0\r\n"
"PA1*76*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*76*CA*0*1000*0*0*0*0\r\n"
"PA7*76*DA*1*1000*0*0*0*0\r\n"
"PA7*76*DB*2*1000*0*0*0*0\r\n"
"PA1*77*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*77*CA*0*1000*0*0*0*0\r\n"
"PA7*77*DA*1*1000*0*0*0*0\r\n"
"PA7*77*DB*2*1000*0*0*0*0\r\n"
"PA1*78*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*78*CA*0*1000*0*0*0*0\r\n"
"PA7*78*DA*1*1000*0*0*0*0\r\n"
"PA7*78*DB*2*1000*0*0*0*0\r\n"
"PA1*79*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*79*CA*0*1000*0*0*0*0\r\n"
"PA7*79*DA*1*1000*0*0*0*0\r\n"
"PA7*79*DB*2*1000*0*0*0*0\r\n"
"PA1*80*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*80*CA*0*1000*0*0*0*0\r\n"
"PA7*80*DA*1*1000*0*0*0*0\r\n"
"PA7*80*DB*2*1000*0*0*0*0\r\n"
"PA1*81*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*81*CA*0*1000*0*0*0*0\r\n"
"PA7*81*DA*1*1000*0*0*0*0\r\n"
"PA7*81*DB*2*1000*0*0*0*0\r\n"
"PA1*82*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*82*CA*0*1000*0*0*0*0\r\n"
"PA7*82*DA*1*1000*0*0*0*0\r\n"
"PA7*82*DB*2*1000*0*0*0*0\r\n"
"PA1*83*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*83*CA*0*1000*0*0*0*0\r\n"
"PA7*83*DA*1*1000*0*0*0*0\r\n"
"PA7*83*DB*2*1000*0*0*0*0\r\n"
"PA1*84*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*84*CA*0*1000*0*0*0*0\r\n"
"PA7*84*DA*1*1000*0*0*0*0\r\n"
"PA7*84*DB*2*1000*0*0*0*0\r\n"
"PA1*85*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*85*CA*0*1000*0*0*0*0\r\n"
"PA7*85*DA*1*1000*0*0*0*0\r\n"
"PA7*85*DB*2*1000*0*0*0*0\r\n"
"PA1*86*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*86*CA*0*1000*0*0*0*0\r\n"
"PA7*86*DA*1*1000*0*0*0*0\r\n"
"PA7*86*DB*2*1000*0*0*0*0\r\n"
"PA1*87*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*87*CA*0*1000*0*0*0*0\r\n"
"PA7*87*DA*1*1000*0*0*0*0\r\n"
"PA7*87*DB*2*1000*0*0*0*0\r\n"
"PA1*88*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*88*CA*0*1000*0*0*0*0\r\n"
"PA7*88*DA*1*1000*0*0*0*0\r\n"
"PA7*88*DB*2*1000*0*0*0*0\r\n"
"PA1*89*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*89*CA*0*1000*0*0*0*0\r\n"
"PA7*89*DA*1*1000*0*0*0*0\r\n"
"PA7*89*DB*2*1000*0*0*0*0\r\n"
"PA1*90*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*90*CA*0*1000*0*0*0*0\r\n"
"PA7*90*DA*1*1000*0*0*0*0\r\n"
"PA7*90*DB*2*1000*0*0*0*0\r\n"
"PA1*91*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*91*CA*0*1000*0*0*0*0\r\n"
"PA7*91*DA*1*1000*0*0*0*0\r\n"
"PA7*91*DB*2*1000*0*0*0*0\r\n"
"PA1*92*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*92*CA*0*1000*0*0*0*0\r\n"
"PA7*92*DA*1*1000*0*0*0*0\r\n"
"PA7*92*DB*2*1000*0*0*0*0\r\n"
"PA1*93*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*93*CA*0*1000*0*0*0*0\r\n"
"PA7*93*DA*1*1000*0*0*0*0\r\n"
"PA7*93*DB*2*1000*0*0*0*0\r\n"
"PA1*94*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*94*CA*0*1000*0*0*0*0\r\n"
"PA7*94*DA*1*1000*0*0*0*0\r\n"
"PA7*94*DB*2*1000*0*0*0*0\r\n"
"PA1*95*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*95*CA*0*1000*0*0*0*0\r\n"
"PA7*95*DA*1*1000*0*0*0*0\r\n"
"PA7*95*DB*2*1000*0*0*0*0\r\n"
"PA1*96*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*96*CA*0*1000*0*0*0*0\r\n"
"PA7*96*DA*1*1000*0*0*0*0\r\n"
"PA7*96*DB*2*1000*0*0*0*0\r\n"
"PA1*97*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*97*CA*0*1000*0*0*0*0\r\n"
"PA7*97*DA*1*1000*0*0*0*0\r\n"
"PA7*97*DB*2*1000*0*0*0*0\r\n"
"PA1*98*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*98*CA*0*1000*0*0*0*0\r\n"
"PA7*98*DA*1*1000*0*0*0*0\r\n"
"PA7*98*DB*2*1000*0*0*0*0\r\n"
"PA1*99*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*99*CA*0*1000*0*0*0*0\r\n"
"PA7*99*DA*1*1000*0*0*0*0\r\n"
"PA7*99*DB*2*1000*0*0*0*0\r\n"
"PA1*100*1000*----------\r\n"
"PA2*0*0*0*0*0*0*0*0*0*0*0*0\r\n"
"PA4*0*0*0*0\r\n"
"PA7*100*CA*0*1000*0*0*0*0\r\n"
"PA7*100*DA*1*1000*0*0*0*0\r\n"
"PA7*100*DB*2*1000*0*0*0*0\r\n"
"TA2*0*0*0*0\r\n"
"TA3*0*0\r\n"
"TA4*0*0*0*0*0*0*0*0\r\n"
"TA5*0*0\r\n"
"TA6*0*0*0*0\r\n"
"VA1*65000*65*0*0\r\n"
"VA2*0*0*0*0\r\n"
"VA3*0*0*0*0\r\n"
"G85*E274\r\n"
"SE*795*0001\r\n"
"DXE*1*1\r\n";

	Config3AuditFiller filler(config->getAutomat());
	filler.start();
	filler.procData((const uint8_t*)data1, sizeof(data1));
	filler.complete();
	TEST_NUMBER_EQUAL(false, filler.hasError());

	Config3AuditGenerator generator(config);
	Buffer buf(4000);
	generator.reset();
	buf.add(generator.getData(), generator.getLen());
	while(generator.isLast() == false) {
		generator.next();
		buf.add(generator.getData(), generator.getLen());
	}

	const char expected1[] =
"DXS*EPHOR00001*VA*V0/6*1\r\n"
"ST*001*0001\r\n"
"AM2**internet*gdata*gdata*1*0*0*1*\r\n"
"AM3*0*1*192.168.1.210*0**0\r\n"
"ID1******138\r\n"
"ID4*2*7\r\n"
"CA15*32400\r\n"        // всего денег во всех тубах
"CA17*0*100*4***0\r\n"  // монеты в тубе 1
"CA17*2*500*28***0\r\n" // монеты в тубе 3
"CA17*3*1000*18***0\r\n" // монеты в тубе 4
"PA1*1*1000*0\r\n"
"PA9*1*1*0\r\n"
"PA4*0\r\n"
"PA7*1*CA*0*1000*31*31000\r\n"
"PA7*1*DA*1*1000*0*0\r\n"
"PA1*2*1000*0\r\n"
"PA9*2*2*0\r\n"
"PA4*0\r\n"
"PA7*2*CA*0*1000*2*2000\r\n"
"PA7*2*DA*1*1000*0*0\r\n"
"PA1*3*1000*0\r\n"
"PA9*3*3*0\r\n"
"PA4*0\r\n"
"PA7*3*CA*0*1000*9*9000\r\n"
"PA7*3*DA*1*1000*0*0\r\n"
"PA1*4*1000*0\r\n"
"PA9*4*4*0\r\n"
"PA4*0\r\n"
"PA7*4*CA*0*1000*2*2000\r\n"
"PA7*4*DA*1*1000*0*0\r\n"
"PA1*5*1000*0\r\n"
"PA9*5*5*0\r\n"
"PA4*0\r\n"
"PA7*5*CA*0*1000*2*2000\r\n"
"PA7*5*DA*1*1000*0*0\r\n"
"PA1*6*1000*0\r\n"
"PA9*6*6*0\r\n"
"PA4*0\r\n"
"PA7*6*CA*0*1000*3*3000\r\n"
"PA7*6*DA*1*1000*0*0\r\n"
"PA1*7*1000*0\r\n"
"PA9*7*7*0\r\n"
"PA4*0\r\n"
"PA7*7*CA*0*1000*0*0\r\n"
"PA7*7*DA*1*1000*0*0\r\n"
"PA1*8*1000*0\r\n"
"PA9*8*8*0\r\n"
"PA4*0\r\n"
"PA7*8*CA*0*1000*1*1000\r\n"
"PA7*8*DA*1*1000*0*0\r\n"
"PA1*9*1000*0\r\n"
"PA9*9*9*0\r\n"
"PA4*0\r\n"
"PA7*9*CA*0*1000*1*1000\r\n"
"PA7*9*DA*1*1000*0*0\r\n"
"PA1*10*1000*0\r\n"
"PA9*10*10*0\r\n"
"PA4*0\r\n"
"PA7*10*CA*0*1000*1*1000\r\n"
"PA7*10*DA*1*1000*0*0\r\n"
"PA1*11*1000*0\r\n"
"PA9*11*11*0\r\n"
"PA4*0\r\n"
"PA7*11*CA*0*1000*1*1000\r\n"
"PA7*11*DA*1*1000*0*0\r\n"
"PA1*12*1000*0\r\n"
"PA9*12*12*0\r\n"
"PA4*0\r\n"
"PA7*12*CA*0*1000*3*3000\r\n"
"PA7*12*DA*1*1000*0*0\r\n"
"PA1*13*1000*0\r\n"
"PA9*13*13*0\r\n"
"PA4*0\r\n"
"PA7*13*CA*0*1000*0*0\r\n"
"PA7*13*DA*1*1000*0*0\r\n"
"PA1*14*1000*0\r\n"
"PA9*14*14*0\r\n"
"PA4*0\r\n"
"PA7*14*CA*0*1000*0*0\r\n"
"PA7*14*DA*1*1000*0*0\r\n"
"PA1*15*1000*0\r\n"
"PA9*15*15*0\r\n"
"PA4*0\r\n"
"PA7*15*CA*0*1000*0*0\r\n"
"PA7*15*DA*1*1000*0*0\r\n"
"G85*FB4E\r\n"
"SE*86*0001\r\n"
"DXE*1*1\r\n";
	TEST_SUBSTR_EQUAL(expected1, (const char *)buf.getData(), buf.getLen());

	return true;
}

bool Config3AuditFillerTest::testNriCurrenzaC2Blue() {
	TEST_NUMBER_EQUAL(0, config->getAutomat()->getProductNum());
	TEST_NUMBER_EQUAL(true, initConfig(config));

	const char data1[] =
"DXS*NRI C2    *VA*V1/1*1\r\n"
"ST*001*0001\r\n"
"ID1*30000000**0***30000000*6*0\r\n"
"ID4*2*1643\r\n"
"VA1*2779600*15086*0*0\r\n"
"VA2*0*0*0*0\r\n"
"VA3*0*0*0*0\r\n"
"CA1*001010400200100*C2Pv0 1  455*0600*193818\r\n"
"CA2*2779600*15086*0*0\r\n"
"CA3*12000*0*12000*0*2787700*1122300*9819400*1846000*0*1846000*0*0\r\n"
"CA4*0*0*49600*631500*0*0*0*0*0*0\r\n"
"CA7*0*0\r\n"
"CA8*0*11700\r\n"
"CA9*0*28100\r\n"
"CA10*12000*398000*0*0\r\n"
"CA11*100*6*0*6*8428*7949*479\r\n"
"CA11*200*7*0*7*6637*6047*590\r\n"
"CA11*500*8*0*8*8962*5468*3491\r\n"
"CA11*1000*0*0*0*2*2*0\r\n"
"CA11*1000*6*0*6*24293*6382*17908\r\n"
"CA12*500*0*0*3287*47\r\n"
"CA12*1000*0*0*17619*106\r\n"
"CA12*100*0*0*455*158\r\n"
"CA12*500*0*0*304*290\r\n"
"CA12*200*0*0*523*26\r\n"
"CA12*1000*0*0*511*362\r\n"
"CA13*100*6*163\r\n"
"CA13*200*7*151\r\n"
"CA13*500*8*237\r\n"
"CA13*1000*0*0\r\n"
"CA13*1000*6*233\r\n"
"CA15*12000*1*4*7*3*6*3*4\r\n"
"CA22*0\r\n"
"TA2*0*0*0*0*0*0*0*0\r\n"
"TA3*0*0\r\n"
"TA5*0*0\r\n"
"TA10*1*0\r\n"
"TA10*2*0\r\n"
"TA10*3*0\r\n"
"DA2*0*0*0*0\r\n"
"DA3*0*0\r\n"
"DA4*0*0\r\n"
"DA5*0*0*0*0\r\n"
"DA6*0*0\r\n"
"PA1*1*1000\r\n"
"LA1*0*1*1000*20*50\r\n"
"LA1*1*1*900*30*70\r\n"
"PA1*2*1000\r\n"
"LA1*0*2*1000*10*40\r\n"
"LA1*1*2*800*40*110\r\n"
"PA1*3*2000\r\n"
"LA1*0*3*2000*0*0\r\n"
"LA1*1*3*0*0*0\r\n"
"PA1*26*0\r\n"
"LA1*0*26*0*0*0\r\n"
"LA1*1*26*1000*0*0\r\n"
"PA1*27*0\r\n"
"LA1*0*27*0*0*0\r\n"
"LA1*1*27*1000*0*0\r\n"
"PA1*28*0\r\n"
"LA1*0*28*0*0*0\r\n"
"LA1*1*28*2000*0*0\r\n"
"EA1*EA_2*030311*0709***Pon\r\n"
"EA2*OBK*0*1134**1\r\n"
"EA3*3*030311*0710*9898*030311*0703*9898\r\n"
"EA4*999999*0000**\r\n"
"EA5*030311*0709*9999**0\r\n"
"EA7*1*385\r\n"
"EA9*19453\r\n"
"MA5*1*STATUS*OK\r\n"
"MA5*2*MinMax A*500*255*0\r\n"
"MA5*3*MinMax B*200*255*0\r\n"
"MA5*4*MinMax C*1000*255*0\r\n"
"MA5*5*MinMax D*100*255*0\r\n"
"MA5*6*MinMax E*1000*255*0\r\n"
"MA5*7*MinMax F*500*255*0\r\n"
"MA5*8*EasyCredit\r\n"
"MA5*LAST*Subsidy\r\n"
"AM1**G-53.0525*9200380-07.05\r\n"
"G85*83F5\r\n"
"SE*250*0001\r\n"
"DXE*1*1\r\n";

	Config3AuditFiller filler(config->getAutomat());
	filler.start();
	filler.procData((const uint8_t*)data1, sizeof(data1));
	filler.complete();
	TEST_NUMBER_EQUAL(false, filler.hasError());

	Config3AuditGenerator generator(config);
	Buffer buf(4000);
	generator.reset();
	buf.add(generator.getData(), generator.getLen());
	while(generator.isLast() == false) {
		generator.next();
		buf.add(generator.getData(), generator.getLen());
	}

	const char expected1[] =
"DXS*EPHOR00001*VA*V0/6*1\r\n"
"ST*001*0001\r\n"
"AM2**internet*gdata*gdata*1*0*0*1*\r\n"
"AM3*0*1*192.168.1.210*0**0\r\n"
"ID1******138\r\n"
"ID4*2*7\r\n"
"CA15*12000\r\n"        // всего денег во всех тубах
"PA1*1*1000*0\r\n"
"PA9*1*1*0\r\n"
"PA4*0\r\n"
"PA7*1*CA*0*1000*50\r\n"
"PA7*1*DA*1*900*70\r\n"
"PA1*2*1000*0\r\n"
"PA9*2*2*0\r\n"
"PA4*0\r\n"
"PA7*2*CA*0*1000*40\r\n"
"PA7*2*DA*1*800*110\r\n"
"PA1*3*2000*0\r\n"
"PA9*3*3*0\r\n"
"PA4*0\r\n"
"PA7*3*CA*0*2000*0\r\n"
"PA7*3*DA*1*0*0\r\n"
"PA1*4*250*0\r\n"
"PA9*4*4*0\r\n"
"PA4*0\r\n"
"PA7*4*CA*0*250*0*0\r\n"
"PA7*4*DA*1*100*0*0\r\n"
"PA1*5*270*0\r\n"
"PA9*5*5*0\r\n"
"PA4*0\r\n"
"PA7*5*CA*0*270*0*0\r\n"
"PA7*5*DA*1*100*0*0\r\n"
"PA1*6*300*0\r\n"
"PA9*6*6*0\r\n"
"PA4*0\r\n"
"PA7*6*CA*0*300*0*0\r\n"
"PA7*6*DA*1*100*0*0\r\n"
"PA1*7*270*0\r\n"
"PA9*7*7*0\r\n"
"PA4*0\r\n"
"PA7*7*CA*0*270*0*0\r\n"
"PA7*7*DA*1*100*0*0\r\n"
"PA1*8*300*0\r\n"
"PA9*8*8*0\r\n"
"PA4*0\r\n"
"PA7*8*CA*0*300*0*0\r\n"
"PA7*8*DA*1*100*0*0\r\n"
"PA1*9*280*0\r\n"
"PA9*9*9*0\r\n"
"PA4*0\r\n"
"PA7*9*CA*0*280*0*0\r\n"
"PA7*9*DA*1*100*0*0\r\n"
"PA1*10*320*0\r\n"
"PA9*10*10*0\r\n"
"PA4*0\r\n"
"PA7*10*CA*0*320*0*0\r\n"
"PA7*10*DA*1*100*0*0\r\n"
"PA1*11*250*0\r\n"
"PA9*11*11*0\r\n"
"PA4*0\r\n"
"PA7*11*CA*0*250*0*0\r\n"
"PA7*11*DA*1*100*0*0\r\n"
"PA1*12*260*0\r\n"
"PA9*12*12*0\r\n"
"PA4*0\r\n"
"PA7*12*CA*0*260*0*0\r\n"
"PA7*12*DA*1*100*0*0\r\n"
"PA1*13*330*0\r\n"
"PA9*13*13*0\r\n"
"PA4*0\r\n"
"PA7*13*CA*0*330*0*0\r\n"
"PA7*13*DA*1*100*0*0\r\n"
"PA1*14*280*0\r\n"
"PA9*14*14*0\r\n"
"PA4*0\r\n"
"PA7*14*CA*0*280*0*0\r\n"
"PA7*14*DA*1*100*0*0\r\n"
"PA1*15*250*0\r\n"
"PA9*15*15*0\r\n"
"PA4*0\r\n"
"PA7*15*CA*0*250*0*0\r\n"
"PA7*15*DA*1*100*0*0\r\n"
"G85*A6DC\r\n"
"SE*83*0001\r\n"
"DXE*1*1\r\n";
	TEST_SUBSTR_EQUAL(expected1, (const char *)buf.getData(), buf.getLen());

	return true;
}

bool Config3AuditFillerTest::testCoinCoGlobal2() {
	TEST_NUMBER_EQUAL(0, config->getAutomat()->getProductNum());
	TEST_NUMBER_EQUAL(true, initConfig(config));

	const char data1[] =
"DXS*9259630009*VA*V1/1*1**\r\n"
"ST*001*0001\r\n"
"ID1*00000000***00000000**\r\n"
"ID4*0*0007*001\r\n"
"VA1*1204627*83104*10*1\r\n"
"VA3*0*0*0*0\r\n"
"BA1*000000000000*V7-RUR500000*10\r\n"
"CA1*06840410**0007*RUR-G801-U04*\r\n"
"CA2*1204627*83104*10*1\r\n"
"CA3*10*0*10*0*1636469*583610*378469*674390\r\n"
"CA4*0*0*410900*2560\r\n"
"CA7*0*0\r\n"
"CA8*0*12967\r\n"
"CA9*10*7530\r\n"
"CA10*0*43817\r\n"
"CA17*0*1*8**\r\n"
"CA17*1*2*0**\r\n"
"CA17*2*5*5**\r\n"
"CA15*33*********\r\n"
"TA2*0*0*0*0*0*0*0*0\r\n"
"TA3*0*0\r\n"
"TA5*0*0\r\n"
"DA1***\r\n"
"DA2*0*0*0*0\r\n"
"DA3*0*0\r\n"
"DA4*0*0\r\n"
"DA5*0*0*0*0\r\n"
"DA7*0*0*0*0*0*0\r\n"
"DA7*1*0*0*0*0*0\r\n"
"DA7*2*0*0*0*0*0\r\n"
"DA7*3*0*0*0*0*0\r\n"
"DA7*4*0*0*0*0*0\r\n"
"LA1*0*1*100*0*10\r\n"
"LA1*0*2*250*4*15\r\n"
"LA1*0*3*250*0*20\r\n"
"LA1*0*4*250*0*0\r\n"
"LA1*0*5*250*0*0\r\n"
"LA1*0*6*250*0*0\r\n"
"LA1*0*7*10*0*0\r\n"
"LA1*0*8*10*1*1\r\n"
"LA1*0*9*250*0*0\r\n"
"LA1*0*10*250*0*0\r\n"
"LA1*0*11*250*0*0\r\n"
"LA1*0*12*250*0*0\r\n"
"LA1*0*13*250*0*0\r\n"
"LA1*0*14*250*0*0\r\n"
"LA1*0*15*250*0*0\r\n"
"LA1*0*16*250*0*0\r\n"
"LA1*0*17*250*0*0\r\n"
"LA1*0*18*250*0*0\r\n"
"LA1*0*19*250*0*0\r\n"
"LA1*0*20*250*0*0\r\n"
"LA1*0*21*250*0*0\r\n"
"LA1*0*22*250*0*0\r\n"
"LA1*0*23*250*0*0\r\n"
"LA1*0*24*250*0*0\r\n"
"LA1*0*25*250*0*0\r\n"
"LA1*0*26*250*0*0\r\n"
"LA1*0*27*250*0*0\r\n"
"LA1*0*28*250*0*0\r\n"
"LA1*0*29*250*0*0\r\n"
"LA1*0*30*250*0*0\r\n"
"LA1*0*31*250*0*0\r\n"
"LA1*0*32*250*0*0\r\n"
"LA1*0*33*250*0*0\r\n"
"LA1*0*34*250*0*0\r\n"
"LA1*0*35*250*0*0\r\n"
"LA1*0*36*250*0*0\r\n"
"LA1*0*37*250*0*0\r\n"
"LA1*0*38*250*0*0\r\n"
"LA1*0*39*250*0*0\r\n"
"LA1*0*40*250*0*0\r\n"
"LA1*0*41*250*0*0\r\n"
"LA1*0*42*250*0*0\r\n"
"LA1*0*43*250*0*0\r\n"
"LA1*0*44*250*0*0\r\n"
"LA1*0*45*250*0*0\r\n"
"LA1*0*46*250*0*0\r\n"
"LA1*0*47*250*0*0\r\n"
"LA1*0*48*250*0*0\r\n"
"LA1*0*49*250*0*0\r\n"
"LA1*0*50*250*0*0\r\n"
"LA1*1*1*250*0*0\r\n"
"LA1*1*2*250*0*0\r\n"
"LA1*1*3*250*0*0\r\n"
"LA1*1*4*250*0*0\r\n"
"LA1*1*5*250*0*30\r\n"
"LA1*1*6*250*0*34303735\r\n"
"LA1*1*7*250*0*32303239\r\n"
"LA1*1*8*250*0*362?0000\r\n"
"LA1*1*9*250*0*0\r\n"
"LA1*1*10*250*0*0\r\n"
"LA1*1*11*250*0*5255\r\n"
"LA1*1*12*250*0*522=4138\r\n"
"LA1*1*13*250*0*30310000\r\n"
"LA1*1*14*250*0*0\r\n"
"LA1*1*15*250*0*0\r\n"
"LA1*1*16*250*0*0\r\n"
"LA1*1*17*250*0*0\r\n"
"LA1*1*18*250*0*0\r\n"
"LA1*1*19*250*0*0\r\n"
"LA1*1*20*250*0*0\r\n"
"LA1*1*21*250*0*0\r\n"
"LA1*1*22*250*0*0\r\n"
"LA1*1*23*250*0*0\r\n"
"LA1*1*24*250*0*0\r\n"
"LA1*1*25*250*0*0\r\n"
"LA1*1*26*250*0*0\r\n"
"LA1*1*27*250*0*0\r\n"
"LA1*1*28*250*0*0\r\n"
"LA1*1*29*250*0*0\r\n"
"LA1*1*30*250*0*0\r\n"
"LA1*1*31*250*0*0\r\n"
"LA1*1*32*250*0*0\r\n"
"LA1*1*33*250*0*0\r\n"
"LA1*1*34*250*0*0\r\n"
"LA1*1*35*250*0*0\r\n"
"LA1*1*36*250*0*0\r\n"
"LA1*1*37*250*0*0\r\n"
"LA1*1*38*250*0*0\r\n"
"LA1*1*39*250*0*0\r\n"
"LA1*1*40*250*0*0\r\n"
"LA1*1*41*250*0*0\r\n"
"LA1*1*42*250*0*0\r\n"
"LA1*1*43*250*0*0\r\n"
"LA1*1*44*250*0*0\r\n"
"LA1*1*45*250*0*0\r\n"
"LA1*1*46*250*0*0\r\n"
"LA1*1*47*250*0*0\r\n"
"LA1*1*48*250*0*0\r\n"
"LA1*1*49*250*0*0\r\n"
"LA1*1*50*250*0*0\r\n"
"PA1*1*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*2*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*3*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*4*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*5*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*6*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*7*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*8*****\r\n"
"PA2*1*10*1*10\r\n"
"PA1*9*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*10*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*11*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*12*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*13*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*14*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*15*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*16*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*17*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*18*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*19*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*20*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*21*****\r\n"
"PA2*2020202*2020202*0*0\r\n"
"PA1*22*****\r\n"
"PA2*2020202*2020202*0*0\r\n"
"PA1*23*****\r\n"
"PA2*2020202*2020202*0*0\r\n"
"PA1*24*****\r\n"
"PA2*2??00??*200000:*0*0\r\n"
"PA1*25*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*26*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*27*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*28*****\r\n"
"PA2*6300*0*0*0\r\n"
"PA1*29*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*30*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*31*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*32*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*33*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*34*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*35*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*36*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*37*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*38*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*39*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*40*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*41*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*42*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*43*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*44*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*45*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*46*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*47*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*48*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*49*****\r\n"
"PA2*0*0*0*0\r\n"
"PA1*50*****\r\n"
"PA2*0*0*0*0\r\n"
"EA1******\r\n"
"EA3*6*******\r\n"
"EA7*0*4377\r\n"
"MA5*OPT1**50*0*255*2*0*0***0\r\n"
"MA5*OPT2**********0\r\n"
"MA5*OPT3*50**50****2***\r\n"
"MA5*OPT4*********0*0\r\n"
"MA5*OPT5*0*0*1*1*5*50*0*0**\r\n"
"MA5*OPT6**********\r\n"
"MA5*OPT7*****0*7*0*0*0*0\r\n"
"MA5*OPT8*0*0*0*0*0*0*0*0*0*0\r\n"
"MA5*MISC*1*0*10945*0\r\n"
"G85*E17D\r\n"
"SE*245*0001\r\n"
"DXE*1*1\r\n";

	Config3AuditFiller filler(config->getAutomat());
	filler.start();
	filler.procData((const uint8_t*)data1, sizeof(data1));
	filler.complete();
	TEST_NUMBER_EQUAL(false, filler.hasError());

	Config3AuditGenerator generator(config);
	Buffer buf(4000);
	generator.reset();
	buf.add(generator.getData(), generator.getLen());
	while(generator.isLast() == false) {
		generator.next();
		buf.add(generator.getData(), generator.getLen());
	}

	const char expected1[] =
"DXS*EPHOR00001*VA*V0/6*1\r\n"
"ST*001*0001\r\n"
"AM2**internet*gdata*gdata*1*0*0*1*\r\n"
"AM3*0*1*192.168.1.210*0**0\r\n"
"ID1******138\r\n"
"ID4*0*7\r\n"
"CA15*33\r\n"
"CA17*0*1*8***0\r\n"
"CA17*1*2*0***0\r\n"
"CA17*2*5*5***0\r\n"
"PA1*1*100*0\r\n"
"PA9*1*1*0\r\n"
"PA4*0\r\n"
"PA7*1*CA*0*100*10\r\n"
"PA7*1*DA*1*250*0\r\n"
"PA1*2*250*0\r\n"
"PA9*2*2*0\r\n"
"PA4*0\r\n"
"PA7*2*CA*0*250*15\r\n"
"PA7*2*DA*1*250*0\r\n"
"PA1*3*250*0\r\n"
"PA9*3*3*0\r\n"
"PA4*0\r\n"
"PA7*3*CA*0*250*20\r\n"
"PA7*3*DA*1*250*0\r\n"
"PA1*4*250*0\r\n"
"PA9*4*4*0\r\n"
"PA4*0\r\n"
"PA7*4*CA*0*250*0\r\n"
"PA7*4*DA*1*250*0\r\n"
"PA1*5*250*0\r\n"
"PA9*5*5*0\r\n"
"PA4*0\r\n"
"PA7*5*CA*0*250*0\r\n"
"PA7*5*DA*1*250*30\r\n"
"PA1*6*250*0\r\n"
"PA9*6*6*0\r\n"
"PA4*0\r\n"
"PA7*6*CA*0*250*0\r\n"
"PA7*6*DA*1*250*34303735\r\n"
"PA1*7*10*0\r\n"
"PA9*7*7*0\r\n"
"PA4*0\r\n"
"PA7*7*CA*0*10*0\r\n"
"PA7*7*DA*1*250*32303239\r\n"
"PA1*8*10*0\r\n"
"PA9*8*8*0\r\n"
"PA4*0\r\n"
"PA7*8*CA*0*10*1\r\n"
"PA7*8*DA*1*250*362\r\n"
"PA1*9*250*0\r\n"
"PA9*9*9*0\r\n"
"PA4*0\r\n"
"PA7*9*CA*0*250*0\r\n"
"PA7*9*DA*1*250*0\r\n"
"PA1*10*250*0\r\n"
"PA9*10*10*0\r\n"
"PA4*0\r\n"
"PA7*10*CA*0*250*0\r\n"
"PA7*10*DA*1*250*0\r\n"
"PA1*11*250*0\r\n"
"PA9*11*11*0\r\n"
"PA4*0\r\n"
"PA7*11*CA*0*250*0\r\n"
"PA7*11*DA*1*250*5255\r\n"
"PA1*12*250*0\r\n"
"PA9*12*12*0\r\n"
"PA4*0\r\n"
"PA7*12*CA*0*250*0\r\n"
"PA7*12*DA*1*250*522\r\n"
"PA1*13*250*0\r\n"
"PA9*13*13*0\r\n"
"PA4*0\r\n"
"PA7*13*CA*0*250*0\r\n"
"PA7*13*DA*1*250*30310000\r\n"
"PA1*14*250*0\r\n"
"PA9*14*14*0\r\n"
"PA4*0\r\n"
"PA7*14*CA*0*250*0\r\n"
"PA7*14*DA*1*250*0\r\n"
"PA1*15*250*0\r\n"
"PA9*15*15*0\r\n"
"PA4*0\r\n"
"PA7*15*CA*0*250*0\r\n"
"PA7*15*DA*1*250*0\r\n"
"G85*C5F3\r\n"
"SE*86*0001\r\n"
"DXE*1*1\r\n";
	TEST_SUBSTR_EQUAL(expected1, (const char *)buf.getData(), buf.getLen());

	return true;
}
